language: node_js

node_js:
  - "node"


script:
  - echo "Gulping"
  - gulp sass
  - hugo

install:
  - npm install -g firebase-tools
  - npm install -g gulp
  - npm install
  - export GOPATH=$HOME/gopath
  - export PATH=$HOME/gopath/bin:$PATH
#  - mkdir -p $HOME/gopath/src/github.com/gifmos/webfront
#  - rsync -az ${TRAVIS_BUILD_DIR}/ $HOME/gopath/src/github.com/gifmos/webfront/
#  - export TRAVIS_BUILD_DIR=$HOME/gopath/src/github.com/gifmos/webfront
#  - cd $HOME/gopath/src/github.com/gifmos/webfront
  - go version
  - go get -v github.com/spf13/hugo


after_success:
  - firebase deploy --token $FIREBASE_TOKEN